(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Administrar"],{"1f4f":function(t,e,a){"use strict";var i=a("5530"),s=(a("a9e3"),a("8b37"),a("80d2")),o=a("7560"),r=a("58df");e["a"]=Object(r["a"])(o["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes:function(){return Object(i["a"])({"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom},this.themeClasses)}},methods:{genWrapper:function(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["g"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render:function(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"8b37":function(t,e,a){},"9b58":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("div",[a("h3",{staticClass:"text-center"},[t._v("Roles")]),t._l(t.roles,(function(e,i){return a("v-card",{key:i,staticClass:"pl-2 pa-2 mb-1 d-flex align-center justify-space-between",attrs:{disabled:t.Change,link:""},on:{click:function(a){return t.SelectRol(e.descripcion)}}},[a("div",{staticClass:"subtitle-1 font-weight-bold"},[t._v(t._s(e.descripcion))]),e.value?a("v-card",{attrs:{color:"red darken-4",elevation:"1",height:"30",rounded:"",width:"30"}}):t._e()],1)})),a("div",[a("h4",[t._v(" Seleccionado: "),a("span",{staticClass:"font-weight-bold red--text text-darken-4"},[t._v(t._s(t.UsuarioPendiente.nombre))])]),a("h4",[t._v(" Rol: "),t.UsuarioPendiente.nombre.trim()?a("span",{staticClass:"font-weight-bold red--text text-darken-4"},[t._v(t._s(t.rolUsuarioPendiente))]):t._e()])]),t.UsuarioPendiente.nombre.trim()?a("v-btn",{staticClass:"my-5",attrs:{disabled:t.btnGuardar,block:"",dark:"",color:"red darken-4"},on:{click:t.ChangeRolUser}},[t._v(" Guardar ")]):t._e(),t.registroRolHecho?a("v-alert",{staticClass:"text-center",attrs:{dense:"",type:"success"}},[t._v(" ModificaciÃ³n Exitosa")]):t._e()],2)]),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-simple-table",{staticClass:"my-2",attrs:{dark:"","fixed-header":"",height:"400px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"red darken-4 text-center subtitle-1 font-weight-bold white--text ",staticStyle:{"border-top-left-radius":"5px","border-bottom-left-radius":"5px"}},[t._v(" Nombres ")]),a("th",{staticClass:"red darken-4 text-center subtitle-1 font-weight-bold white--text ",staticStyle:{"border-top-right-radius":"5px","border-bottom-right-radius":"5px"}},[t._v(" Email ")]),a("th",{staticClass:"red darken-4 text-center subtitle-1 font-weight-bold white--text ",staticStyle:{"border-top-right-radius":"5px","border-bottom-right-radius":"5px"}})])]),a("tbody",t._l(t.Usuarios,(function(e){return a("tr",{key:e.idusuario,staticClass:"font-weight-bold "},[a("td",{staticClass:"text-center"},[t._v(t._s(e.usuario))]),a("td",{staticClass:"text-center red--text text-darken-4 "},[t._v(t._s(e.email))]),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",outlined:"",small:""},on:{click:function(a){return t.SelectUsuario(e.idusuario,e.usuario,e.rol)}}},[a("v-icon",[t._v("edit")])],1),a("v-btn",{staticClass:"ma-1",attrs:{elevation:"3",icon:"",outlined:"",small:""},on:{click:function(a){return t.ShowDialogDeleteUsuario(e.usuario,e.rol,e.idusuario)}}},[a("v-icon",[t._v("delete")])],1)],1)])})),0)]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"300",persistent:""},model:{value:t.dialogDeleteUsuario,callback:function(e){t.dialogDeleteUsuario=e},expression:"dialogDeleteUsuario"}},[a("v-card",{staticClass:"py-2"},[a("v-list-item-content",{staticClass:"text-center"},[a("div",{staticClass:"font-weight-bold"},[t._v(" Eliminar a "),a("span",{staticClass:"text-center red--text text-darken-4 ma-2"},[t._v(" "+t._s(t.dataDialogDeleteUsuario.usuario)+" ")])]),a("div",{staticClass:"font-weight-bold"},[t._v(" con rol de "),a("span",{staticClass:"text-center red--text text-darken-4 ma-2"},[t._v(" "+t._s(t.dataDialogDeleteUsuario.rol)+" ")])])]),a("v-list-item-content",[a("v-layout",{attrs:{"mx-2":"","justify-space-between":!0}},[a("v-btn",{attrs:{rounded:"",dark:"",color:"red darken-4"},on:{click:function(e){return t.Eliminar(t.dataDialogDeleteUsuario.id)}}},[t._v("Si")]),a("v-btn",{attrs:{rounded:"",dark:""},on:{click:t.NotShowDialogDeleteUsuario}},[t._v("No")])],1)],1)],1)],1)],1)},s=[],o=a("5530"),r=(a("d81d"),a("2f62")),n={name:"forms",data:function(){return{dialogDeleteUsuario:!1,dataDialogDeleteUsuario:{id:null,rol:null,usuario:null},registroRolHecho:!1,btnGuardar:!0,UsuarioPendiente:{id:"",nombre:""},rolUsuarioPendiente:"",Change:!1,Usuarios:[],roles:[],show1:!1,selectedItem:1,items:[{text:"Real-Time",icon:"mdi-clock"},{text:"Audience",icon:"mdi-account"},{text:"Conversions",icon:"mdi-flag"}]}},computed:Object(o["a"])({},Object(r["d"])(["token"])),mounted:function(){this.listarUsuario(),this.listarRol()},methods:{listarUsuario:function(){var t=this;this.axios.get("/listarUsuario").then((function(e){t.Usuarios=e.data})).catch((function(t){return console.log(t)}))},listarRol:function(){var t=this;this.axios.get("/listarRol").then((function(e){e.data.map((function(e){t.roles.push({descripcion:e.descripcion,value:!1})}))})).catch((function(t){return console.log(t)}))},SelectRol:function(t){var e=this;this.btnGuardar=!1,this.Change=!0,this.roles.map((function(a){t===a.descripcion?(e.rolUsuarioPendiente=t,a.value=!0):a.value=!1})),this.Change=!1},SelectUsuario:function(t,e,a){this.UsuarioPendiente.id=t,this.UsuarioPendiente.nombre=e,this.SelectRol(a)},ChangeRolUser:function(){var t=this,e={"Content-Type":"application/json",token:this.token};this.UsuarioPendiente.id>0&&this.rolUsuarioPendiente&&this.axios.post("/saveRoles",{idusuario:this.UsuarioPendiente.id,rol:this.rolUsuarioPendiente},{headers:e}).then((function(e){"Registro Exitoso"===e.data.mensaje&&(t.listarUsuario(),t.ShowMessageRegisterRol())})).catch((function(t){return console.log(t.response.data)}))},ShowMessageRegisterRol:function(){var t=this;this.registroRolHecho=!0,setTimeout((function(){t.registroRolHecho=!1}),3e3)},NotShowDialogDeleteUsuario:function(){this.dialogDeleteUsuario=!1,this.dataDialogDeleteUsuario.rol=null,this.dataDialogDeleteUsuario.id=null,this.dataDialogDeleteUsuario.usuario=null},ShowDialogDeleteUsuario:function(t,e,a){this.dataDialogDeleteUsuario.rol=e,this.dataDialogDeleteUsuario.id=a,this.dataDialogDeleteUsuario.usuario=t,this.dialogDeleteUsuario=!0},Eliminar:function(t){var e=this,a={"Content-Type":"application/json",token:this.token};this.axios.post("/deleteUser",{idUsuario:t},{headers:a}).then((function(a){console.log("Eliminando.."+t),e.dialogDeleteUsuario=!1,e.listarUsuario()})).catch((function(t){return console.log(t.response.data)}))}}},l=n,d=a("2877"),c=a("6544"),u=a.n(c),h=a("0798"),f=a("8336"),v=a("b0af"),p=a("62ad"),b=a("a523"),g=a("169a"),m=a("132d"),x=a("a722"),U=a("5d23"),C=a("0fd9"),_=a("1f4f"),k=Object(d["a"])(l,i,s,!1,null,null,null);e["default"]=k.exports;u()(k,{VAlert:h["a"],VBtn:f["a"],VCard:v["a"],VCol:p["a"],VContainer:b["a"],VDialog:g["a"],VIcon:m["a"],VLayout:x["a"],VListItemContent:U["a"],VRow:C["a"],VSimpleTable:_["a"]})},a523:function(t,e,a){"use strict";a("4de4"),a("b64b"),a("2ca0"),a("99af"),a("20f6"),a("4b85");var i=a("e8f2"),s=a("d9f7");e["a"]=Object(i["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,i=e.props,o=e.data,r=e.children,n=o.attrs;return n&&(o.attrs={},a=Object.keys(n).filter((function(t){if("slot"===t)return!1;var e=n[t];return t.startsWith("data-")?(o.attrs[t]=e,!1):e||"string"===typeof e}))),i.id&&(o.domProps=o.domProps||{},o.domProps.id=i.id),t(i.tag,Object(s["a"])(o,{staticClass:"container",class:Array({"container--fluid":i.fluid}).concat(a||[])}),r)}})},a722:function(t,e,a){"use strict";a("20f6");var i=a("e8f2");e["a"]=Object(i["a"])("layout")},e8f2:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("498a"),a("99af"),a("4de4"),a("b64b"),a("2ca0"),a("a15b");var i=a("2b0e");function s(t){return i["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,a){var i=a.props,s=a.data,o=a.children;s.staticClass="".concat(t," ").concat(s.staticClass||"").trim();var r=s.attrs;if(r){s.attrs={};var n=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e}));n.length&&(s.staticClass+=" ".concat(n.join(" ")))}return i.id&&(s.domProps=s.domProps||{},s.domProps.id=i.id),e(i.tag,s,o)}})}}}]);
//# sourceMappingURL=Administrar.0fb3548e.js.map